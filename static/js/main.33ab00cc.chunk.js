(this["webpackJsonpspotify-stats"]=this["webpackJsonpspotify-stats"]||[]).push([[0],{150:function(e,t,n){},239:function(e,t,n){},240:function(e,t,n){},241:function(e,t,n){},247:function(e,t,n){},413:function(e,t,n){"use strict";n.r(t);var s,a,i,o,r,c,l=n(0),d=n.n(l),p=n(64),u=n.n(p),h=(n(239),n(240),n(37)),g=n(17),m=n(197),j=n(198),f=n(199),b=n(229),x=(n(241),n.p+"static/media/spotify_logo.21441016.png"),y=n(2),v=function(e){return Object(y.jsx)("div",{style:{color:"#fff",width:"100%",background:"linear-gradient(#000000 0%, #0f6c30 100%)",height:"100vh",margin:"auto",position:"absolute"},children:Object(y.jsxs)("div",{style:{position:"relative",top:"50%",transform:"translateY(-50%)"},children:[Object(y.jsxs)("div",{style:{width:"100%",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[Object(y.jsx)("h1",{style:{fontSize:"100px",color:"white",display:"inline"},children:"Spotify"}),Object(y.jsx)("h1",{style:{fontSize:"100px",color:"#1DB954",display:"inline"},children:"Stats"})]}),Object(y.jsx)("div",{style:{display:"flex",justifyContent:"center",paddingTop:"50px"},children:Object(y.jsxs)("button",{className:"button",onClick:e.login,children:[Object(y.jsx)("img",{style:{width:"35px",height:"30px",paddingRight:"5px"},src:x,alt:"Spotify Icon"}),Object(y.jsx)("span",{style:{verticalAlign:"middle"},children:"Get Started"})]})}),Object(y.jsx)("div",{style:{textAlign:"center",paddingTop:"20px"},children:Object(y.jsx)("h6",{className:"sampleTitle",onClick:e.sample,children:"Don't have a Spotify account? Use this sample account."})}),Object(y.jsxs)("div",{style:{width:"100%",display:"flex",justifyContent:"center",paddingTop:"50px"},children:[e.isSignOut?Object(y.jsx)("h3",{style:{color:"#C8C8C8"},children:"Successfully Signed Out"}):null,e.isNoData?Object(y.jsx)("h3",{style:{color:"#C8C8C8"},children:"Insufficient data in your spotify account."}):null]})]})})},O=n(82),S=n(18),A=n(57),w=n(58),C=n(228),k=w.a.nav(s||(s=Object(A.a)(["\n  background: #000;\n  height: 80px;\n  display: flex;\n  justify-content: space-between;\n  padding: 0.5rem calc((100vw - 1000px) / 2);\n  z-index: 10;\n"]))),_=Object(w.a)(O.b)(a||(a=Object(A.a)(["\n  color: #fff;\n  display: flex;\n  align-items: center;\n  text-decoration: none;\n  padding: 0 1rem;\n  height: 100%;\n  cursor: pointer;\n  &.active {\n    color: #1DB954;\n  }\n  &:hover {\n    color: #1DB954;\n    text-decoration: none;\n  }\n"]))),D=Object(w.a)(C.a)(i||(i=Object(A.a)(["\n  display: none;\n  color: #fff;\n  @media screen and (max-width: 768px) {\n    display: block;\n    position: absolute;\n    top: 0;\n    right: 0;\n    transform: translate(-100%, 75%);\n    font-size: 1.8rem;\n    cursor: pointer;\n  }\n"]))),T=w.a.div(o||(o=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: -24px;\n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),F=w.a.nav(r||(r=Object(A.a)(["\n  display: flex;\n  align-items: center;\n  margin-right: 24px;\n  \n  @media screen and (max-width: 768px) {\n    display: none;\n  }\n"]))),N=Object(w.a)(O.b)(c||(c=Object(A.a)(["\n  border-radius: 4px;\n  background: #1DB954;\n  padding: 10px 22px;\n  color: #fff;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n  text-decoration: none;\n  margin-left: 24px;\n  &:hover {\n    transition: all 0.2s ease-in-out;\n    background: #fff;\n    color: #010606;\n    text-decoration: none;\n  }\n"]))),I=function(){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(k,{children:[Object(y.jsxs)(_,{to:"/spotify-stats",children:[Object(y.jsx)("h1",{style:{fontSize:"30px",color:"white",display:"inline"},children:"Spotify"}),Object(y.jsx)("h1",{style:{fontSize:"30px",color:"#1DB954",display:"inline"},children:"Stats"})]}),Object(y.jsx)(D,{}),Object(y.jsxs)(T,{children:[Object(y.jsx)(_,{to:"/spotify-stats/top-songs",activeStyle:!0,children:"Top Songs"}),Object(y.jsx)(_,{to:"/spotify-stats/top-artists",activeStyle:!0,children:"Top Artists"}),Object(y.jsx)(_,{to:"/spotify-stats/top-genres",activeStyle:!0,children:"Top Genres"}),Object(y.jsx)(_,{to:"/spotify-stats/recommendations",activeStyle:!0,children:"Recommendations"}),Object(y.jsx)(_,{to:"/spotify-stats/visuals",activeStyle:!0,children:"Visuals"})]}),Object(y.jsx)(F,{children:Object(y.jsx)(N,{to:"/spotify-stats/sign-out",children:"Sign Out"})})]})})},R=function(e){return Object(y.jsxs)("div",{style:{color:"#fff",width:"100%",background:"linear-gradient(#000000 0%, #0f6c30 40%, #1ed760 100%)",height:"100vh",margin:"auto",position:"absolute"},children:[console.log("HOME"),Object(y.jsxs)("div",{style:{display:"flex",fontFamily:"Montserrat, sans-serif",margin:"0rem",height:"25vh",justifyContent:"center",position:"relative",top:"50%",transform:"translateY(-50%)"},children:[Object(y.jsx)("div",{style:{width:"30vw",paddingRight:"50px",textAlign:"right"},children:Object(y.jsx)("img",{src:e.userImage,alt:"Profile",style:{background:"gray",width:"150px",height:"150px",borderRadius:"50%",border:"none"}})}),Object(y.jsxs)("div",{style:{marginLeft:"0%",marginTop:"3%",width:"30vw"},children:[Object(y.jsx)("h3",{children:e.userName}),Object(y.jsxs)("h3",{style:{color:"#C8C8C8"},children:["Followers - ",e.followers]})]})]})]})},B=(n(150),function(e){var t={display:"flex",fontFamily:"Montserrat, sans-serif",margin:"0rem",minHeight:"25vh",justifyContent:"center",paddingTop:"20px",paddingBottom:"20px"},n={width:"30vw",paddingRight:"50px",textAlign:"right",position:"relative",display:"inline-flex"},s={width:"30vw",paddingRight:"50px",textAlign:"left",display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"column"},a={background:"gray",width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"black"},i={marginLeft:"auto",marginTop:"auto",marginBottom:"auto"},o={color:"#C8C8C8"};return Object(y.jsx)("div",{style:{color:"#fff",width:"100%",background:"linear-gradient(#000000 0%, #0f6c30 40%, #1ed760 100%)",alignItems:"center",justifyContent:"center",paddingTop:"70px",paddingBottom:"70px"},children:Object(h.a)(Array(10)).map((function(r,c){return Object(y.jsxs)("div",{style:t,children:[Object(y.jsx)("div",{style:n,children:Object(y.jsx)("div",{style:i,children:Object(y.jsx)("img",{src:e.topSongImages[c],alt:"artist",style:a})})}),Object(y.jsxs)("div",{style:s,children:[Object(y.jsx)("h3",{children:e.topSongNames[c]}),Object(y.jsxs)("h3",{style:o,children:["By ",e.topSongArtistName[c]]})]})]},c)}))})}),M=function(e){var t={display:"flex",fontFamily:"Montserrat, sans-serif",margin:"0rem",minHeight:"25vh",justifyContent:"center",paddingTop:"20px",paddingBottom:"20px"},n={width:"30vw",paddingRight:"50px",textAlign:"right",position:"relative",display:"inline-flex"},s={width:"30vw",paddingRight:"50px",textAlign:"left",display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"column"},a={background:"gray",width:"150px",height:"150px",borderRadius:"50%"},i={marginLeft:"auto",marginTop:"auto",marginBottom:"auto"},o={color:"#C8C8C8"};return Object(y.jsx)("div",{style:{color:"#fff",width:"100%",background:"linear-gradient(#000000 0%, #0f6c30 40%, #1ed760 100%)",alignItems:"center",justifyContent:"center",paddingTop:"70px",paddingBottom:"70px"},children:Object(h.a)(Array(10)).map((function(r,c){return Object(y.jsxs)("div",{style:t,children:[Object(y.jsx)("div",{style:n,children:Object(y.jsx)("div",{style:i,children:Object(y.jsx)("img",{src:e.topArtistImages[c],alt:"artist",style:a})})}),Object(y.jsxs)("div",{style:s,children:[Object(y.jsx)("h3",{children:e.topArtistNames[c]}),Object(y.jsxs)("h3",{style:o,children:["Followers - ",e.topArtistFollowers[c]]})]})]},c)}))})},L=function(e){var t={display:"flex",fontFamily:"Montserrat, sans-serif",margin:"0rem",minHeight:"25vh",justifyContent:"center"},n={marginLeft:"0%",marginTop:"3%",width:"30vw",textAlign:"center"};return Object(y.jsx)("div",{style:{color:"#fff",width:"100%",background:"linear-gradient(#000000 0%, #0f6c30 40%, #1ed760 100%)",alignItems:"center",justifyContent:"center",paddingTop:"70px",paddingBottom:"70px"},children:Object(h.a)(Array(10)).map((function(s,a){return Object(y.jsx)("div",{style:t,children:Object(y.jsx)("div",{style:n,children:Object(y.jsx)("h3",{children:e.topGenres[a]})})},a)}))})},G=function(e){var t={display:"flex",fontFamily:"Montserrat, sans-serif",margin:"0rem",minHeight:"25vh",justifyContent:"center",paddingTop:"20px",paddingBottom:"20px"},n={width:"30vw",paddingRight:"50px",textAlign:"right",position:"relative",display:"inline-flex"},s={width:"30vw",paddingRight:"50px",textAlign:"left",display:"flex",justifyContent:"center",alignContent:"center",flexDirection:"column"},a={background:"gray",width:"150px",height:"150px",borderRadius:"50%",backgroundColor:"black"},i={marginLeft:"auto",marginTop:"auto",marginBottom:"auto"},o={color:"#C8C8C8"};return Object(y.jsx)("div",{style:{color:"#fff",width:"100%",background:"linear-gradient(#000000 0%, #0f6c30 40%, #1ed760 100%)",alignItems:"center",justifyContent:"center",paddingTop:"70px",paddingBottom:"70px"},children:Object(h.a)(Array(10)).map((function(r,c){return Object(y.jsxs)("div",{style:t,children:[Object(y.jsx)("div",{style:n,children:Object(y.jsx)("div",{style:i,children:Object(y.jsx)("img",{src:e.topRecommendationsImages[c],alt:"album",style:a})})}),Object(y.jsxs)("div",{style:s,children:[Object(y.jsx)("h3",{children:e.topRecommendations[c]}),Object(y.jsxs)("h3",{style:o,children:["By ",e.topRecommendationsArtistName[c]]})]})]},c)}))})},U=n(205),P=(n(247),n(415)),H=n(416),z=n(420),E=n(220),V=n(221),W=n(218),K=n(421),Z=n(230),J=n(224),Y=n(225),q=n(423),Q=n(46),X=n(140),$=n.n(X),ee=function(e){var t=Object(l.useState)(!1),n=Object(g.a)(t,2),s=(n[0],n[1]),a=Object(l.useState)(!1),i=Object(g.a)(a,2),o=(i[0],i[1]),r=Object(l.useState)(!1),c=Object(g.a)(r,2),d=(c[0],c[1],Object(l.useState)([])),p=Object(g.a)(d,2),u=p[0],h=p[1],m=Object(l.useState)([]),j=Object(g.a)(m,2),f=(j[0],j[1]),b=Object(l.useState)([{subject:"Acousticness",A:0},{subject:"Danceability",A:0},{subject:"Energy",A:0},{subject:"Instrumentalness",A:0},{subject:"Liveness",A:0},{subject:"Valence",A:0},{subject:"Speechiness",A:0}]),x=Object(g.a)(b,2),v=x[0],O=x[1],S=[{subject:"Acousticness",A:0},{subject:"Danceability",A:0},{subject:"Energy",A:0},{subject:"Instrumentalness",A:0},{subject:"Liveness",A:0},{subject:"Valence",A:0},{subject:"Speechiness",A:0}],A=[{subject:"Acousticness",A:e.songFeatures.acousticness},{subject:"Danceability",A:e.songFeatures.danceability},{subject:"Energy",A:e.songFeatures.energy},{subject:"Instrumentalness",A:e.songFeatures.instrumentalness},{subject:"Liveness",A:e.songFeatures.liveness},{subject:"Valence",A:e.songFeatures.valence},{subject:"Speechiness",A:e.songFeatures.speechiness}],w=Object(l.useState)([{name:"largo",value:0,fill:"#581845"},{name:"adante",value:0,fill:"#900C3F"},{name:"moderato",value:0,fill:"#C70039"},{name:"allegro",value:0,fill:"#FF5733"},{name:"presto",value:0,fill:"#FFC300"}]),C=Object(g.a)(w,2),k=C[0],_=C[1],D=[{name:"largo",value:0,fill:"#581845"},{name:"adante",value:0,fill:"#900C3F"},{name:"moderato",value:0,fill:"#C70039"},{name:"allegro",value:0,fill:"#FF5733"},{name:"presto",value:0,fill:"#FFC300"}],T=[{name:"largo",value:e.tempo.largo,fill:"#581845"},{name:"adante",value:e.tempo.adante,fill:"#900C3F"},{name:"moderato",value:e.tempo.moderato,fill:"#C70039"},{name:"allegro",value:e.tempo.allegro,fill:"#FF5733"},{name:"presto",value:e.tempo.presto,fill:"#FFC300"}],F=Object(l.useState)([]),N=Object(g.a)(F,2),I=(N[0],N[1]),R=Object(l.useState)([]),B=Object(g.a)(R,2),M=(B[0],B[1]),L=[{name:"Artists",children:u}];Object(l.useEffect)((function(){if(null!==e.treeMapData){var t=[];for(var n in e.treeMapData)t.push({name:""+n,size:e.treeMapData[n]});h(t)}if(null!==e.songFeatures.timeSignatures){var s=[],a=[];for(var i in e.songFeatures.timeSignatures)s.push({name:""+i,value:e.songFeatures.timeSignatures[i]}),a.push({name:""+i,value:100});I(a),M(a),f(s)}}),[]);var G=Object(U.a)({width:"90vh",height:"90vh",margin:"auto",justifyContent:"center",alignItems:"center"},"height","90vh"),X={paddingBottom:"20px"};Math.PI;return Object(y.jsx)("div",{className:"banner",children:Object(y.jsxs)("div",{className:"container banner-align",children:[Object(y.jsx)("div",{className:"banner-hero",children:Object(y.jsx)($.a,{onChange:function(e){O(e?A:S),s(e)},partialVisibility:!0,offset:{top:450},children:Object(y.jsxs)("div",{style:G,children:[Object(y.jsx)("h2",{style:{textAlign:"center"},children:"Features"}),Object(y.jsx)("h5",{style:{textAlign:"center",color:"#C8C8C8"},children:"Based on your top 50 songs."}),Object(y.jsx)(P.a,{width:"100%",height:"100%",children:Object(y.jsxs)(H.a,{cx:"50%",cy:"50%",outerRadius:"80%",data:v,children:[Object(y.jsx)(z.a,{}),Object(y.jsx)(E.a,{dataKey:"subject",stroke:"#fff"}),Object(y.jsx)(V.a,{angle:38.6,domain:[0,1]}),Object(y.jsx)(W.a,{name:"Features",dataKey:"A",stroke:"#fff",fill:"#fff",fillOpacity:.4})]})})]})})}),Object(y.jsx)("div",{className:"banner-hero",children:Object(y.jsx)($.a,{onChange:function(e){_(e?T:D),o(e)},partialVisibility:!0,offset:{top:450},children:Object(y.jsxs)("div",{style:G,children:[Object(y.jsxs)("div",{style:X,children:[Object(y.jsx)("h2",{style:{textAlign:"center"},children:"Tempo"}),Object(y.jsx)("h5",{style:{textAlign:"center",color:"#C8C8C8"},children:"View your favorite tempos."})]}),Object(y.jsx)(P.a,{width:"100%",height:"80%",children:Object(y.jsxs)(K.a,{width:700,height:500,data:k,children:[Object(y.jsx)(Z.a,{dataKey:"value",fill:"#8884d8"}),Object(y.jsx)(J.a,{dataKey:"name",stroke:"white"}),Object(y.jsx)(Y.a,{stroke:"white"})]})})]})})}),Object(y.jsx)("div",{className:"banner-hero",children:Object(y.jsxs)("div",{style:G,children:[Object(y.jsxs)("div",{style:X,children:[Object(y.jsx)("h2",{style:{textAlign:"center"},children:"Artists"}),Object(y.jsx)("h5",{style:{textAlign:"center",color:"#C8C8C8"},children:"See which artists produce your most listened to songs."})]}),Object(y.jsx)(P.a,{width:"100%",height:"80%",children:Object(y.jsx)(q.a,{width:700,height:500,data:L,dataKey:"size",ratio:4/3,stroke:"#fff",fill:"#8884d8",children:Object(y.jsx)(Q.a,{separator:"",formatter:function(e,t,n){return n.payload.name+" : "+e+(e>1?" songs":" song")}})})})]})})]})})},te=n(74),ne=n.n(te),se={},ae={getUsersProfile:function(e,t){console.log("Getting Users Profile!!!");ne.a.get("https://api.spotify.com/v1/me",{headers:{Authorization:"Bearer "+se.access_token}}).then((function(e){if(200===e.status)return e.data;throw e.status,new Error(e.status)})).then((function(t){e(t)})).catch((function(e){console.log(e),t()}))},getTopSongs:function(e,t){console.log("Getting Top Songs!!!");ne.a.get("https://api.spotify.com/v1/me/top/tracks?time_range=long_term&limit=100",{headers:{Authorization:"Bearer "+se.access_token}}).then((function(e){if(200===e.status)return e.data;throw e.status,new Error(e.status)})).then((function(t){e(t)})).catch((function(e){console.log(e),t()}))},getTopArtists:function(e,t){console.log("Getting Top Artists!!!");ne.a.get("https://api.spotify.com/v1/me/top/artists?time_range=long_term&limit=100",{headers:{Authorization:"Bearer "+se.access_token}}).then((function(e){if(200===e.status)return e.data;throw e.status,new Error(e.status)})).then((function(t){e(t)})).catch((function(e){console.log(e),t()}))},getRecommendations:function(e,t,n,s){console.log("Getting Top Recommendations!!!");var a=e.join(","),i=t.join(","),o="https://api.spotify.com/v1/recommendations?limit=10&seed_artists=".concat(a,"&seed_tracks=").concat(i);ne.a.get(o,{headers:{Authorization:"Bearer "+se.access_token}}).then((function(e){if(200===e.status)return e.data;throw e.status,new Error(e.status)})).then((function(e){n(e)})).catch((function(e){console.log(e),s()}))},getSongFeatures:function(e,t,n){console.log("Getting Song Features!!!");var s=e.join(","),a="https://api.spotify.com/v1/audio-features?ids=".concat(s);ne.a.get(a,{headers:{Authorization:"Bearer "+se.access_token}}).then((function(e){if(200===e.status)return e.data;throw e.status,new Error(e.status)})).then((function(e){t(e)})).catch((function(e){console.log(e),n()}))}},ie=n.p+"static/media/default_image.84681b68.jpg",oe=n.p+"static/media/acdc.7bffd834.jpg",re=n.p+"static/media/chuck_berry.70535d15.jpg",ce=n.p+"static/media/led_zeppelin.ff5a4c99.jpg",le=n.p+"static/media/avicii.212ee7ef.jpg",de=n.p+"static/media/blink_182.54ee9ee3.jpg",pe=n.p+"static/media/white_stripes.4ac049c1.jpg",ue=n.p+"static/media/the_smashing_pumpkins.3b18d7eb.jpg",he=n.p+"static/media/u2.7c4dc5b7.jpg",ge=n.p+"static/media/rolling_stones.351b0107.jpg",me=n.p+"static/media/calvin_harris.25ec22ec.jpg",je=n.p+"static/media/dua_lipa.adbb848e.jpg",fe=n.p+"static/media/hardwell.8d620018.jpg",be=n.p+"static/media/marshmello.dbdce1e8.jpg",xe=n.p+"static/media/deorro.78daa41b.jpg",ye=n.p+"static/media/divine_fits.47f1760a.jpg",ve=n.p+"static/media/guns_n_roses.9e25baa3.jpg",Oe=n.p+"static/media/kid_cudi.aefaa2b8.jpg",Se=n.p+"static/media/mgmt.211e9b24.jpg",Ae=n.p+"static/media/modest_mouse.da432739.jpg",we=n.p+"static/media/swedish_house_mafia.fcd82368.jpg",Ce=(n(412),function(e){Object(f.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(m.a)(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).isSongUpdateDone=!1,e.isArtistUpdateDone=!1,e.state={visible:!0,accessToken:"",tokenType:"",expiresIn:"",data:{},isSignOut:!1,userName:"",followers:0,userImage:"",isDataRetrieved:!1,topArtistNames:[],topArtistImages:[],topArtistID:[],topArtistFollowers:[],topSongNames:[],topSongImages:[],topSongID:[],topSongArtistName:[],topGenres:[],topRecommendations:[],topRecommendationsImages:[],topRecommendationsArtistName:[],songFeatures:{},timeSignatures:{},tempo:{},treeMapData:{},isNoData:!1,isSampleAccount:!1},e.handleLogin=function(){var e=["user-top-read","playlist-read-private"].join("%20");window.location="".concat("https://accounts.spotify.com/authorize","?client_id=").concat("f6914647e144472a9946eba5f87d9721","&response_type=").concat("token","&show_dialog=").concat("true","&redirect_uri=").concat("https://hrvojeperic.github.io/spotify-stats/","&scope=").concat(e)},e.getParamsFromAuthentication=function(e){return e.substring(1).split("&").reduce((function(e,t){var n=t.split("="),s=Object(g.a)(n,2),a=s[0],i=s[1];return e[a]=i,e}),{})},e.handleSignout=function(){return e.setState({visible:!0,isSignOut:!0}),window.history.replaceState(null,"New Page Title","/spotify-stats"),null},e.showUserProfile=function(){ae.getUsersProfile(e._showUserProfileCallback,e._errorCallback)},e._showUserProfileCallback=function(t){var n=t.display_name,s=t.followers.total,a=ie;0!==t.images.length&&(a=t.images[0].href),e.setState({userName:n,followers:s,userImage:a})},e.showTopArtists=function(){ae.getTopArtists(e._showTopArtistsCallback,e._errorCallback)},e._showTopArtistsCallback=function(t){var n=[],s=[],a=[],i=[],o=[];if(0===t.items.length)e.setState({isNoData:!0});else{for(var r=0;r<t.items.length;r++)null!=t.items[r].name?n.push(t.items[r].name):n.push("Unknown"),null!=t.items[r].images&&s.push(t.items[r].images[0].url),a.push(t.items[r].id),i.push.apply(i,Object(h.a)(t.items[r].genres)),o.push(t.items[r].followers.total);var c=e.calculateTopGenres(i);e.setState({topArtistNames:n,topArtistImages:s,topArtistID:a,topArtistFollowers:o,topGenres:c},(function(){e.isArtistUpdateDone=!0,e.showRecommendations()}))}},e.showTopSongs=function(){ae.getTopSongs(e._showTopSongsCallback,e._errorCallback)},e._showTopSongsCallback=function(t){var n=[],s=[],a=[],i=[];if(0===t.items.length)e.setState({isNoData:!0});else{for(var o=0;o<t.items.length;o++)null!=t.items[o].name?n.push(t.items[o].name):n.push("Unknown"),null!=t.items[o].album.images&&s.push(t.items[o].album.images[0].url),a.push(t.items[o].id),i.push(t.items[o].album.artists[0].name);e.setState({topSongNames:n,topSongImages:s,topSongID:a,topSongArtistName:i},(function(){e.isSongUpdateDone=!0,e.showRecommendations(),e.setTreeMapData(e.state.topSongArtistName)})),ae.getSongFeatures(e.state.topSongID,e._showTopSongFeaturesCallback,e._errorCallback)}},e._showTopSongFeaturesCallback=function(t){for(var n=0,s=0,a=0,i=0,o=0,r=0,c=0,l=[],d=[],p=[],u=t.audio_features.length,h=0;h<u;h++)n+=t.audio_features[h].acousticness,s+=t.audio_features[h].danceability,a+=t.audio_features[h].energy,i+=t.audio_features[h].instrumentalness,o+=t.audio_features[h].liveness,r+=t.audio_features[h].valence,c+=t.audio_features[h].speechiness,l.push(t.audio_features[h].duration_ms),d.push(t.audio_features[h].time_signature),p.push(t.audio_features[h].tempo);n/=u,s/=u,a/=u,i/=u,o/=u,r/=u,c/=u;for(var g=0,m=l[0],j=l[0],f=0;f<l.length;f++)m<l[f]&&(m=l[f]),j>l[f]&&(j=l[f]),g+=l[f];m/=6e4,j/=6e4;for(var b=(g/=6e4)/l.length,x={},y=0,v=d.length;y<v;y++)x[d[y]]=(x[d[y]]||0)+1;for(var O={largo:0,adante:0,moderato:0,allegro:0,presto:0},S=0;S<p.length;S++)p[S]<=76?O.largo++:p[S]<=108?O.adante++:p[S]<=120?O.moderato++:p[S]<=168?O.allegro++:O.presto++;var A={acousticness:n,danceability:s,energy:a,instrumentalness:i,liveness:o,valence:r,speechiness:c,minDuration:j,maxDuration:m,avgDuration:b,timeSignatures:x};e.setState({songFeatures:A,tempo:O})},e.calculateTopGenres=function(e){for(var t={},n=0,s=e.length;n<s;n++)t[e[n]]=(t[e[n]]||0)+1;console.log(e);var a=[];return!(10>Object.keys(t).length)&&(Object.keys(t).sort((function(e,n){return t[n]-t[e]})).forEach((function(e,t){t<10&&a.push(e)})),console.log(a),a)},e.showRecommendations=function(){if(e.isSongUpdateDone&&e.isArtistUpdateDone){for(var t=[],n=[],s=0;s<e.state.topArtistID.length&&s<2;s++)t.push(e.state.topArtistID[s]);for(var a=0;a<e.state.topSongID.length&&a<3;a++)n.push(e.state.topSongID[a]);ae.getRecommendations(t,n,e._showRecommendationsCallback,e._errorCallback)}},e._showRecommendationsCallback=function(t){var n=[],s=[],a=[];if(0===t.tracks.length)e.setState({isNoData:!0});else{for(var i=0;i<t.tracks.length;i++)n.push(t.tracks[i].name),s.push(t.tracks[i].album.images[0].url),a.push(t.tracks[i].artists[0].name);e.setState({topRecommendations:n,topRecommendationsImages:s,topRecommendationsArtistName:a})}},e._errorCallback=function(){},e.setTreeMapData=function(t){for(var n={},s=0,a=t.length;s<a;s++)n[t[s]]=(n[t[s]]||0)+1;e.setState({treeMapData:n})},e.handleHome=function(){return!1===e.state.isDataRetrieved&&!1===e.state.isSampleAccount&&(e.setState({isDataRetrieved:!0}),e.showUserProfile(),e.showTopSongs(),e.showTopArtists(),e.showRecommendations()),Object(y.jsx)(R,{userName:e.state.userName,followers:e.state.followers,userImage:e.state.userImage})},e.handleTopSongs=function(){return Object(y.jsx)(B,{topSongNames:e.state.topSongNames,topSongImages:e.state.topSongImages,topSongArtistName:e.state.topSongArtistName})},e.handleTopArtists=function(){return Object(y.jsx)(M,{topArtistNames:e.state.topArtistNames,topArtistImages:e.state.topArtistImages,topArtistFollowers:e.state.topArtistFollowers})},e.handleTopGenres=function(){return Object(y.jsx)(L,{topGenres:e.state.topGenres})},e.handleRecommendations=function(){return Object(y.jsx)(G,{topRecommendations:e.state.topRecommendations,topRecommendationsImages:e.state.topRecommendationsImages,topRecommendationsArtistName:e.state.topRecommendationsArtistName})},e.handleVisuals=function(){return Object(y.jsx)(ee,{songFeatures:e.state.songFeatures,tempo:null!=e.state.tempo?e.state.tempo:{},treeMapData:e.state.treeMapData})},e.handleSampleAccount=function(){e.setState({isSampleAccount:!0,visible:!1,userName:"Steve Miller",followers:7,userImage:ie,topSongNames:["Wake Me Up","Ramble On","Back In Black","1979","Stairway To Heaven","Go Johnny Go","Whole Lotta Love","Seven Nation Army","I Miss You","What's My Age Again?"],topSongImages:[le,ce,oe,ue,ce,re,ce,pe,de,de],topSongArtistName:["Avicii","Led Zeppelin","AC/DC","The Smashing Pumpkins","Led Zeppelin","Chuck Berry","Led Zeppelin","The White Stripes","Blink-182","Blink-182"],topArtistNames:["Led Zeppelin","Blink-182","Avicii","AC/DC","U2","The Rolling Stones","Calvin Harris","Dua Lipa","Marshmello","Hardwell"],topArtistImages:[ce,de,le,oe,he,ge,me,je,be,fe],topArtistFollowers:["10,720,000","31,753","23,703,006","19,210,000","1,310,000","2,140,000","21,690,000","25,280,000","30,740,000","3,438,881"],topGenres:["rock","classic rock","punk rock","electronic dance music","pop","hard rock","dance","house","alternative rock","hip hop"],topRecommendations:["Alone","Slide","Fool in the Rain","Would That Not Be Nice","Electric Feel","Five Hours","Welcome To The Jungle","Float On","Pursuit Of Happiness","Don't You Worry Child"],topRecommendationsImages:[be,me,ce,ye,Se,xe,ve,Ae,Oe,we],topRecommendationsArtistName:["Marshmello","Calvin Harris","Led Zeppelin","Divine Fits","MGMT","Deorro","Guns N' Roses","Modest Mouse","Kid Cudi","Swedish House Mafia"],songFeatures:{acousticness:.1,danceability:.6,energy:.8,instrumentalness:.4,liveness:.8,valence:.6,speechiness:.4,minDuration:2,maxDuration:6,avgDuration:3,timeSignatures:null},tempo:{largo:1,adante:10,moderato:20,allegro:15,presto:5},treeMapData:{"Led Zeppelin":10,"Blink-182":5,Avicii:6,"AC/DC":2,U2:1,"The Rolling Stones":1,"Calvin Harris":5,"Dua Lipa":2,Marshmello:4,Hardwell:2,Drake:1,"Kanye West":1,Sia:2,Kygo:1,"Divine Fits":1,"Louis The Child":2,Crogotti:2,"The Smashing Pumpkins":1,"The White Stripes":1}})},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){if(window.location.hash){this.setState({visible:!1});var e=this.getParamsFromAuthentication(window.location.hash);this.setState({accessToken:e.access_token,tokenType:e.token_type,expiresIn:e.expires_in}),se.access_token=e.access_token,se.token_type=e.token_type,se.expires_in=e.expires_in}}},{key:"render",value:function(){var e=this;return Object(y.jsx)("div",{children:this.state.visible||this.state.isNoData?this.state.isNoData?Object(y.jsx)(v,{login:function(){return e.handleLogin()},isNoData:this.state.isNoData}):Object(y.jsx)(v,{login:function(){return e.handleLogin()},sample:function(){return e.handleSampleAccount()},isSignOut:this.state.isSignOut,isSampleAccount:this.state.isSampleAccount}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(O.a,{children:[Object(y.jsx)(I,{}),Object(y.jsx)(S.c,{children:Object(y.jsx)(S.a,{path:"/spotify-stats",exact:!0,component:function(){return e.handleHome()}})}),Object(y.jsx)(S.c,{children:Object(y.jsx)(S.a,{path:"/spotify-stats/top-songs",exact:!0,component:function(){return e.handleTopSongs()}})}),Object(y.jsx)(S.c,{children:Object(y.jsx)(S.a,{path:"/spotify-stats/top-artists",exact:!0,component:function(){return e.handleTopArtists()}})}),Object(y.jsx)(S.c,{children:Object(y.jsx)(S.a,{path:"/spotify-stats/top-genres",exact:!0,component:function(){return e.handleTopGenres()}})}),Object(y.jsx)(S.c,{children:Object(y.jsx)(S.a,{path:"/spotify-stats/recommendations",exact:!0,component:function(){return e.handleRecommendations()}})}),Object(y.jsx)(S.c,{children:Object(y.jsx)(S.a,{path:"/spotify-stats/visuals",exact:!0,component:function(){return e.handleVisuals()}})}),Object(y.jsx)(S.c,{children:Object(y.jsx)(S.a,{path:"/spotify-stats/sign-out",exact:!0,component:function(){return e.handleSignout()}})})]})})})}}]),n}(l.Component));var ke=function(){return Object(y.jsx)("div",{children:Object(y.jsx)(Ce,{})})},_e=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,424)).then((function(t){var n=t.getCLS,s=t.getFID,a=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),s(e),a(e),i(e),o(e)}))};u.a.render(Object(y.jsx)(d.a.StrictMode,{children:Object(y.jsx)(ke,{})}),document.getElementById("root")),_e()}},[[413,1,2]]]);
//# sourceMappingURL=main.33ab00cc.chunk.js.map